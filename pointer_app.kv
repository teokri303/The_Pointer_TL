#to profile twn event
<Event_Profile_Layout@BoxLayout> :
    orientation : 'vertical'
    pic_layout : pic_layout
    info_layout : info_layout
    Image :
        id : pic_layout
        source : 'src/88.png'
        allow_stretch : True
        size_hint : 1,.4
    BoxLayout :
        id : info_layout
        name : name
        lname : lname
        starts : starts
        ends : ends
        private : private
        points_g : points_g
        points_r : points_r
        cap : cap
        joined : joined
        creator : creator
        control_buttons : control_buttons
        orientation : 'vertical'
        Profile_Labels :
            id : name
            size_hint : 1, .2
            text : "[color=ffffff] Name : [/color]"
        Profile_Labels :
            id : lname
            size_hint : 1, .2
            text : "[color=ffffff] Location : [/color]"
        Profile_Labels :
            id : starts
            size_hint : 1, .2
            text : "[color=ffffff] Starting Date : [/color]"
        Profile_Labels :
            id : ends
            size_hint : 1, .2
            text : "[color=ffffff] Ending Date : [/color]"
        Profile_Labels :
            id : private
            size_hint : 1, .2
            text : "[color=ffffff] Privacy : [/color]"
        Profile_Labels :
            id : points_g
            size_hint : 1, .2
            text : "[color=ffffff] Points Gained : [/color]"
        Profile_Labels :
            id : points_r
            size_hint : 1, .2
            text : "[color=ffffff] Points Required : [/color]"
        Profile_Labels :
            id : cap
            size_hint : 1, .2
            text : "[color=ffffff] Capacity : [/color]"
        Profile_Labels :
            id : joined
            size_hint : 1, .2
            text : "[color=ffffff] Participators : [/color]"
        Profile_Labels :
            id : creator
            size_hint : 1, .2
            text : "[color=ffffff] Creator : [/color]"
        BoxLayout :
            id : control_buttons
            jevent : jevent
            unjevent : unjevent
            invite : invite
            orientation : 'horizontal'
            size_hint : 1, .2
            Button :
                id : jevent
                text : "Join Event"
            Button :
                id : unjevent
                text : "Unjoin Event"
            Button :
                id : invite
                text : "Invite"

#join event main layout
<JoinEvent@BoxLayout>:
    ongoing : ongoing
    expired : expired
    orientation : 'vertical'

    BoxLayout :
        id : ongoing
        ongoing_events : ongoing_events
        orientation : 'vertical'
        Label :
            size_hint_y : 0.15
            canvas.before :
                Color :
                    rgba : .055,.25,.55,1
                Rectangle :
                    pos :self.pos
                    size : self.size
            text : 'Events Near You'

        ScrollView :
            id : ongoing_events
            events_1 : events_1
            do_scroll_x : False
            do_scroll_y : True
            always_overscroll : False

            GridLayout :
                height : self.minimum_height
                id : events_1
                cols : 1
                spacing : 2
                size_hint_y : None

    BoxLayout :
        id : expired
        expired_events : expired_events
        orientation : 'vertical'
        Label :
            size_hint_y : 0.15
            canvas.before :
                Color :
                    rgba : .055,.25,.55,1
                Rectangle :
                    pos :self.pos
                    size : self.size
            text : 'Expired Events'
        ScrollView :
            id : expired_events
            events_2 : events_2

            do_scroll_x : False
            do_scroll_y : True
            always_overscroll : False

            GridLayout :
                height : self.minimum_height
                id : events_2
                cols : 1
                spacing : 2
                size_hint_y : None
#join event main layout
<JoinEvent_Layout@BoxLayout>:
    ena_event : None
    size_hint_y : None
    orientation : 'horizontal'
    event_info : event_info
    details : details
    join : join
    canvas.before :
        Color :
            rgba : .5 , .1 , .75 , .7
        Rectangle :
            pos :self.pos
            size : self.size
    Label :
        id : event_info
        size_hint_y : None
        height : 75
    Button :
        id : details
        text : 'Details'
        size_hint_y : None
        size_hint_x : 0.2
    Button :
        id : join
        text : 'Join'
        size_hint_y : None
        size_hint_x : 0.2
#join event details layout

<FriendsLayout@BoxLayout>:
    search4friends : search4friends
    main_content : main_content
    orientation : 'vertical'
    BoxLayout :
        id : search4friends
        search_bar : search_bar
        subutton : subutton
        size_hint_y : 0.05
        orientation : 'horizontal'
        Chooser :
            id : search_bar
        Button :
            id : subutton
            size_hint_x : 0.25
            text : 'Submit'

    ScrollView :
        id : main_content
        friends : friends

        do_scroll_x : False
        do_scroll_y : True
        always_overscroll : False

        GridLayout :
            height : self.minimum_height
            id : friends
            cols : 1
            spacing : 2
            size_hint_y : None

<Friends_Layout@BoxLayout>:
    ena_request : None
    size_hint_y : None
    orientation : 'horizontal'
    user_info : user_info
    to_profile : to_profile
    canvas.before :
        Color :
            rgba : .5 , .1 , .75 , .7
        Rectangle :
            pos :self.pos
            size : self.size
    Label :
        id : user_info
        size_hint_y : None
        height : 50
    Button :
        id : to_profile
        text : 'Profile'
        size_hint_y : None

#anaferetai se users
<MyBox@BoxLayout>:
    orientation : 'vertical'
    size_hint : None,None
    size : 110,75
    canvas.before :
        Color :
            rgba : .055,.25,.45,.777
        Ellipse:
            segments : 150
            size: 110,75
#anaferetai se locations
<MyBoxL@BoxLayout>:
    orientation : 'vertical'
    size_hint : None,None
    size : 175,120
    canvas.before :
        Color :
            rgba : .055,.25,.45,.777
        RoundedRectangle:
            size: 175,120

#ena layout gia to pop up otan ftiaxnw location
<SubmitLayout@BoxLayout>:
    orientation : 'vertical'
    save : save
    dismiss : dismiss
    Button :
        id : save
        text : 'Save'
    Button :
        id : dismiss
        text : 'Dismiss'

#to spinner sta events
<ESpinner@Spinner>:
    size_hint : .3, .6
    sync_height : True

<PrivateSw@Switch>:
    values: ['Public', 'Private']
    canvas:
        Color:
            rgb: 0.2, 0.709, 0.898, 1
        Rectangle:
            size: [sp(41.5), sp(20)]
            pos: [self.center_x - sp(41.5), self.center_y - sp(10)]
        Color:
            rgb: 0.4, 0.4, 0.4, 1
        Rectangle:
            size: [sp(41.5), sp(20)]
            pos: [self.center_x, self.center_y - sp(10)]
    Label:
        id : pub
        text: '[b]{}[/b]'.format(root.values[0])
        markup: True
        font_size: 13
        pos: [root.center_x - sp(70), root.center_y - sp(50)]
    Label:
        id : prv
        color: 0.75, 0.75, 0.75, 1
        text: '[b]{}[/b]'.format(root.values[1])
        markup: True
        font_size: 13
        pos: [root.center_x - sp(30), root.center_y - sp(50)]

<Profile_Labels@Label>:
    markup : True
    size_hint_y : None
    text_size : self.width,None
    canvas.before :
        Color :
            rgba : .5 , .1 , .75 , .7
        Rectangle :
            pos :self.pos
            size : self.size

<Profile_Layout@BoxLayout> :
    orientation : 'vertical'
    pic_layout : pic_layout
    info_layout : info_layout
    xp_bar : xp_bar
    Image :
        id : pic_layout
        source : 'me.jpg'
        allow_stretch : True
        size_hint : 1,.4
    BoxLayout :
        id : xp_bar
        size_hint : 1,.05
    BoxLayout :
        id : info_layout
        online : online
        username : username
        points : points
        friends : friends
        coordinates : coordinates
        at_event : at_event
        orientation : 'vertical'
        Profile_Labels :
            id : online
            size_hint : 1,.2
            text : "[color=ffffff] State : [/color]"
        Profile_Labels :
            id : username
            size_hint : 1,.2
            text : "[color=ffffff] Username : [/color]"
        Profile_Labels :
            id : points
            size_hint : 1,.2
            text : "[color=ffffff]Points : [/color]"
        Profile_Labels :
            id : friends
            size_hint : 1,.2
            text : "[color=ffffff] Friends : [/color]"
        Profile_Labels :
            id : coordinates
            size_hint : 1,.2
            text : "[color=ffffff] Coordinates : [/color]"
        Profile_Labels :
            id : at_event
            size_hint : 1,.2
            text : "[color=ffffff] At Event : [/color]"

<Cevent_Labels@TextInput>:
    first_touch : False
    multiline : False
    size_hint : None , None
#to main layout
<FriendsRequLayout@BoxLayout>:
    search4friends : search4friends
    main_content : main_content
    orientation : 'vertical'
    BoxLayout :
        id : search4friends
        size_hint_y : 0.05
        orientation : 'horizontal'

    ScrollView :
        id : main_content
        friend_requests : friend_requests

        do_scroll_x : False
        do_scroll_y : True
        always_overscroll : False

        GridLayout :
            height : self.minimum_height
            id : friend_requests
            cols : 1
            spacing : 5
            size_hint_y : None
#to layout ka8e friend request
<FriendRequest_Layout@BoxLayout>:
    ena_request : None
    size_hint_y : None
    orientation : 'horizontal'
    user_info : user_info
    accept : accept
    reject : reject
    canvas.before :
        Color :
            rgba : .5 , .1 , .75 , .7
        Rectangle :
            pos :self.pos
            size : self.size
    Label :
        id : user_info
        size_hint_y : None
        height : 50
    Button :
        id : accept
        text : 'Accept'
        size_hint_y : None
        size_hint_x : 0.5
    Button :
        id : reject
        text : 'Reject'
        size_hint_y : None
        size_hint_x : 0.5

#gia na ftiaxnw events
<Event_Creation_Layout@BoxLayout> :
    orientation : 'vertical'
    pic_layout : pic_layout
    info_layout : info_layout
    Image :
        id : pic_layout
        source : 'src/88.png'
        allow_stretch : True
        size_hint : 1,.3
    BoxLayout :
        id : info_layout
        subutton : subutton
        name : name
        points_earned : points_earned
        privatesw : privatesw
        capacity : capacity
        event_datetimes_1 : event_datetimes_1
        event_datetimes_2 : event_datetimes_2
        orientation : 'vertical'
        padding : [0,15,0,15]
        spacing : 15
	    canvas.before :
            Color :
                rgba : .975 , .485 , .255 , .85
            Rectangle :
                pos :self.pos
                size : self.size
        Cevent_Labels :
            id : name
            pos_hint : {'center_x' : .5}
            size_hint : .6, .13
            hint_text : 'Event Name'
        Cevent_Labels :
            id : points_earned
            pos_hint : {'center_x' : .5}
            size_hint : .6, .13
            hint_text : 'Points Earned'
        Cevent_Labels :
            id : capacity
            pos_hint : {'center_x' : .5}
            size_hint : .6, .13
            hint_text : 'Capacity'
        SpinnerLayout :
            id : event_datetimes_1
            pos_hint : {'center_x' : .5}
            size_hint : .9, .1
        SpinnerLayout :
            id : event_datetimes_2
            pos_hint : {'center_x' : .5}
            size_hint : .9, .1
        PrivateSw:
            id : privatesw
            pos_hint : {'center_x' : .5}
            size_hint : .6, .05
        Button :
            id : subutton
            text : 'Submit'
            pos_hint : {'center_x' : .5}
            size_hint : .4, .13

<SpinnerLayout@GridLayout>
    start : root.start
    cols : 6
    #start
    se_label : se_label
    spinner_year : spinner_year
    spinner_month : spinner_month
    spinner_day : spinner_day
    spinner_hour : spinner_hour
    spinner_minute : spinner_minute

    Label :
        id : se_label
        text : 'Start'
        size_hint_x : 0.3
    ESpinner:
        id : spinner_year
        text : 'Year'
    ESpinner:
        id : spinner_month
        text : 'Month'
    ESpinner:
        id : spinner_day
        text : 'Day'
    ESpinner:
        id : spinner_hour
        text : 'Hour'
    ESpinner:
        id : spinner_minute
        text : 'Minute'

<Second_Screen@Screen>
    aka : aka
    FloatLayout:
        id : aka
        info_layout : info_layout
        orientation : 'horizontal'
        size_hint : (root.size_hint_x, root.size_hint_y)
        #xrwmata
        canvas.before:
            Color:
                rgba: .005 , .1 , .4 , .85
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            id : info_layout
            map_opp : map_opp
            orientation: 'vertical'
            size_hint : (root.size_hint_x, root.size_hint_y)

            canvas.before:
                Color:
                    rgba: .005 , .1 , .4 , .85
                Rectangle:
                    pos: self.pos
                    size: self.size
            MapOptions:
                id : map_opp
                size_hint:  (1,.1)
#ta options tou map
<MapOptions@BoxLayout>:
    #buttons
    create_buttons : create_buttons
    mpos : mpos
    friends_button : friends_button
    options_layout : options_layout

    orientation : 'horizontal'
    canvas.before:
        Color:
            rgba: .975 , .485 , .255 , .85
        Rectangle:
            pos: self.pos
            size: self.size
    Create_Buttons:
        id : create_buttons
    Button :
        id : mpos
        text : "My Position"
    Button :
        id : friends_button
        text : "Friends"
    Control_Buttons :
        id : options_layout

#oti 8a uparxei sta plagia gia leitourgies
<Control_Buttons@Spinner> :
    #buttons
    text : 'Map'
    values : ["Map","Profile","Friends","Friend\nRequests","Events","Invite At Event","Settings"]

<Create_Buttons@Spinner> :
    #buttons
    text : 'Create'
    values : ["Create Event"]

<Log_Inputs@TextInput>
    first_touch : False
    multiline : False
    size : 200 , 35
    size_hint : None , None

<First_Screen@Screen>
    aka : aka
    RelativeLayout:
        id : aka
        login_bttn : login_bttn
        reg_bttn : reg_bttn
        us_inp : us_inp
        email_inp : email_inp
        passw_inp : passw_inp
        canvas.before:
            Color:
                rgba: .975 , .485 , .255 , .85
            Rectangle:
                pos: self.pos
                size: self.size
        Log_Inputs :
            id : us_inp
            pos_hint : {'center_x' : 0.5 , 'center_y' : 0.8}
        Log_Inputs :
            id : email_inp
            pos_hint : {'center_x' : 0.5 , 'center_y' : 0.65}
        Log_Inputs :
            id : passw_inp
            password : True
            pos_hint : {'center_x' : 0.5 , 'center_y' : 0.5}
        Button :
            id : login_bttn
            text : "Log In"
            can_press : [False,False,False]
            pos_hint : {'center_x' : 0.75 , 'center_y' : 0.1}
            size : 110 , 50
            size_hint : None , None
        Button :
            id : reg_bttn
            text : "Register"
            can_press : [False,False,False]
            pos_hint : {'center_x' : 0.25 , 'center_y' : 0.1}
            size : 110 , 50
            size_hint : None , None
